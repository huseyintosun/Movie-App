(this.webpackJsonpmovie=this.webpackJsonpmovie||[]).push([[0],{35:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var s=a(2),n=a.n(s),c=a(27),r=a.n(c),i=(a(35),a(10)),o=a(19),l=a.n(o),u=a(23),j=a(14),b=(a(37),a(46),j.a.initializeApp({apiKey:"AIzaSyDZps-rAADLYhX1w4--U0n_tblZiWtW6k0",authDomain:"movie-app-69050.firebaseapp.com",projectId:"movie-app-69050",storageBucket:"movie-app-69050.appspot.com",messagingSenderId:"170530765381",appId:"1:170530765381:web:8a50735327b7bb6930c12c",measurementId:"G-6N9PJV959H"}),function(){var e=Object(u.a)(l.a.mark((function e(t,a,s){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.auth().createUserWithEmailAndPassword(t,a).then((function(e){e.user})).catch((function(e){e.code,e.message}));case 3:return n=j.a.auth().currentUser,e.next=6,n.updateProfile({displayName:s});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert("There exists an account with this email. Please login with your password or continue with Google!");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a,s){return e.apply(this,arguments)}}()),d=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j.a.auth().onAuthStateChanged((function(e){t(e||null)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=new j.a.auth.GoogleAuthProvider;e.setCustomParameters({prompt:"select_account"}),j.a.auth().signInWithPopup(e)},h=a(1),p=Object(s.createContext)();var f=function(e){var t=Object(s.useState)(),a=Object(i.a)(t,2),n=a[0],c=a[1];return console.log(":rocket: currentUser",n),Object(s.useEffect)((function(){d(c)}),[]),Object(h.jsx)(p.Provider,{value:{currentUser:n},children:e.children})},O=a(17),v=a(5),x=a(30),g=function(e){var t,a=e.title,n=e.poster_path,c=e.overview,r=e.vote_average,i=Object(s.useContext)(p).currentUser;return Object(h.jsxs)("div",{className:"movie",children:[Object(h.jsx)("img",{src:n?"https://image.tmdb.org/t/p/w1280"+n:"https://images.unsplash.com/photo-1581905764498-f1b60bae941a?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=700&q=80",alt:a}),Object(h.jsxs)("div",{className:"movie-info",children:[Object(h.jsx)("h3",{children:a}),i&&Object(h.jsx)("span",{className:"tag ".concat((t=r,t>=8?"green":t>=6?"orange":"red")),children:r})]}),Object(h.jsxs)("div",{className:"movie-over",children:[Object(h.jsx)("h2",{children:"Overview:"}),Object(h.jsx)("p",{children:c})]})]})};var y=function(){var e=Object(s.useState)([]),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(""),r=Object(i.a)(c,2),o=r[0],l=r[1],u=Object(s.useContext)(p).currentUser;Object(s.useEffect)((function(){j("https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=04c35731a5ee918f014970082a0088b1&page=1")}),[]);var j=function(e){fetch(e).then((function(e){return e.json()})).then((function(e){n(e.results)}))};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("form",{className:"search",onSubmit:function(e){e.preventDefault(),o&&u?(j("https://api.themoviedb.org/3/search/movie?&api_key=04c35731a5ee918f014970082a0088b1&query="+o),l("")):alert("Please login to search a movie!")},children:Object(h.jsx)("input",{className:"search-input",type:"search",placeholder:"Search a movie",onChange:function(e){l(e.target.value)}})}),Object(h.jsx)("div",{className:"movie-container",children:a.length>0&&a.map((function(e){return Object(h.jsx)(g,Object(x.a)({},e),e.id)}))})]})},w=function(){var e=Object(v.f)(),t=Object(s.useState)(""),a=Object(i.a)(t,2),n=a[0],c=a[1],r=Object(s.useState)(""),o=Object(i.a)(r,2),l=o[0],u=o[1],j=Object(s.useState)(""),d=Object(i.a)(j,2),p=d[0],f=d[1],O=Object(s.useState)(""),x=Object(i.a)(O,2),g=x[0],y=x[1];return Object(h.jsxs)("div",{className:"register",children:[Object(h.jsx)("div",{className:"form-image",children:Object(h.jsx)("img",{src:"https://picsum.photos/1200/900",alt:"sample-movie"})}),Object(h.jsxs)("div",{className:"register-form",children:[Object(h.jsx)("h1",{className:"form-title display-3",children:"Register"}),Object(h.jsxs)("form",{id:"register",children:[Object(h.jsxs)("div",{class:"mb-3",children:[Object(h.jsx)("label",{for:"first-name",class:"form-label display-4",children:"First Name"}),Object(h.jsx)("input",{type:"text",class:"form-control",id:"first-name",placeholder:"Enter your first name...",onChange:function(e){return c(e.target.value)}})]}),Object(h.jsxs)("div",{class:"mb-3",children:[Object(h.jsx)("label",{for:"last-name",class:"form-label display-4",children:"Last Name"}),Object(h.jsx)("input",{type:"text",class:"form-control",id:"last-name",placeholder:"Enter your last name...",onChange:function(e){return u(e.target.value)}})]}),Object(h.jsxs)("div",{class:"mb-3",children:[Object(h.jsx)("label",{for:"email",class:"form-label display-4",children:"Email"}),Object(h.jsx)("input",{type:"email",class:"form-control",id:"email",placeholder:"Enter your email address...",onChange:function(e){return f(e.target.value)}})]}),Object(h.jsxs)("div",{class:"mb-3",children:[Object(h.jsx)("label",{for:"password",class:"form-label display-4",children:"Password"}),Object(h.jsx)("input",{type:"password",class:"form-control",id:"password",placeholder:"Enter your password...",onChange:function(e){return y(e.target.value)}})]}),Object(h.jsx)("input",{type:"button",class:"btn btn-primary form-control",value:"Register",onClick:function(){var t={firstName:n,lastName:l,email:p,password:g},a="".concat(n," ").concat(l);b(t.email,t.password,a),e.push("/")}})]}),Object(h.jsx)("button",{class:"btn btn-primary form-control",onClick:function(){m(),e.push("/")},children:"Continue with Google"})]})]})},N=function(){var e=Object(v.f)(),t=Object(s.useState)(""),a=Object(i.a)(t,2),n=a[0],c=a[1],r=Object(s.useState)(""),o=Object(i.a)(r,2),l=o[0],u=o[1];return Object(h.jsxs)("div",{className:"register",children:[Object(h.jsx)("div",{className:"form-image",children:Object(h.jsx)("img",{src:"https://picsum.photos/1200/900",alt:"sample-movie"})}),Object(h.jsxs)("div",{className:"register-form",children:[Object(h.jsx)("h1",{className:"form-title display-3",children:"Login"}),Object(h.jsxs)("form",{id:"login",children:[Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{for:"email",className:"form-label display-4",children:"Email"}),Object(h.jsx)("input",{type:"email",className:"form-control",id:"email",placeholder:"Enter your email address...",onChange:function(e){return c(e.target.value)}})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{for:"password",className:"form-label display-4",children:"Password"}),Object(h.jsx)("input",{type:"password",className:"form-control",id:"password",placeholder:"Enter your password...",onChange:function(e){return u(e.target.value)}}),Object(h.jsx)("div",{classNameName:"link",onClick:function(){return function(e){j.a.auth().sendPasswordResetEmail(e),alert("Please check your mail box!")}(n)},children:"Forgot password?"})]}),Object(h.jsx)("input",{type:"button",className:"btn btn-primary form-control",value:"Login",onClick:function(){var t={email:n,password:l};!function(e,t){j.a.auth().signInWithEmailAndPassword(e,t).then((function(e){e.user})).catch((function(e){e.code,e.message,alert("The password is invalid or the user does not have a password!")}))}(t.email,t.password),e.push("/")}})]}),Object(h.jsx)("button",{className:"btn btn-primary form-control",onClick:function(){m(),e.push("/")},children:"Continue with Google"})]})]})},C=function(){var e=Object(v.f)(),t=Object(s.useContext)(p).currentUser;return Object(h.jsx)("div",{children:Object(h.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(h.jsxs)("div",{className:"container-fluid",children:[Object(h.jsx)("a",{className:"navbar-brand",href:"/",style:{color:"white"},children:"React Movie App"}),Object(h.jsxs)("div",{className:"buttons",children:[t?Object(h.jsx)("h3",{children:t.displayName}):Object(h.jsx)("button",{type:"button",className:"ms-2 btn btn-outline-light",onClick:function(){return e.push("/login")},children:"Login"}),t?Object(h.jsx)("button",{type:"button",className:"ms-2 btn btn-outline-light",onClick:function(){j.a.auth().signOut()},children:"Logout"}):Object(h.jsx)("button",{type:"button",className:"ms-2 btn btn-outline-light",onClick:function(){return e.push("/register")},children:"Register"})]})]})})})},k=function(){return Object(h.jsxs)(O.a,{children:[Object(h.jsx)(C,{}),Object(h.jsxs)(v.c,{children:[Object(h.jsx)(v.a,{exact:!0,path:"/register",component:w}),Object(h.jsx)(v.a,{exact:!0,path:"/login",component:N}),Object(h.jsx)(v.a,{exact:!0,path:"/",component:y}),Object(h.jsx)(v.a,{exact:!0,path:"/Movie-App",component:y})]})]})};var P=function(){return Object(h.jsx)(f,{children:Object(h.jsx)(k,{})})},S=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,47)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),s(e),n(e),c(e),r(e)}))};r.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(P,{})}),document.getElementById("root")),S()}},[[45,1,2]]]);
//# sourceMappingURL=main.15f65deb.chunk.js.map